<sticky-header>
	<header-buttons>
		<button mat-icon-button (click)="refresh()">
			<mat-icon>refresh</mat-icon>
		</button>
		<a mat-icon-button [routerLink]="['/', 'list']">
			<mat-icon>list</mat-icon>
		</a>
	</header-buttons>
	<page-content>
		<h1>Szavaz√°s</h1>
		<div>Lekjopp ‚ù§Ô∏è</div>
		<ng-container *ngIf="isEditable">
			<div cdkDropList class="list-container" (cdkDropListDropped)="drop($event)">
				<div class="list-item" *ngFor="let movie of movies" cdkDrag>{{movie.movie.title}} ({{movie.movie.nominatedBy | username}})</div>
			</div>
		</ng-container>
		<ng-container *ngIf="!isEditable">
			<div class="list-container" *ngFor="let movie of movies">
				<div class="list-item">{{movie.movie.title}} ({{movie.movie.nominatedBy | username}})</div>
			</div>
		</ng-container>
		<div>Pfoj üí©</div>
		<div *ngIf="usersPending.length > 0">
			<span>M√©g nem szavazott: </span>
			<span *ngFor="let user of usersPending; last as isLast">{{user | username}}{{isLast ? "" : ", "}}</span>
		</div>
		<div class="button-container">
			<button *ngIf="isEditable" mat-raised-button color="primary" (click)="ok()">OK</button>
			<button *ngIf="!isEditable" mat-raised-button color="primary" (click)="refresh()">√öjrat√∂lt√©s</button>
			<button *ngIf="!isEditable" mat-button color="primary" (click)="edit()">Szerkeszt√©s</button>
		</div>
	</page-content>
</sticky-header>